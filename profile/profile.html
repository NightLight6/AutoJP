<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <title>üáØüáµ AutoJP - –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</title>
    <link rel="stylesheet" href="css/cyberpunk.css">
    <link rel="stylesheet" href="css/night-tokyo.css">
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js
  "></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js
  "></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-database-compat.js
  "></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-storage-compat.js
  "></script>
</head>
<script src="js/mobile-optimization.js" defer></script>

<body>
    <header class="header">
        <div class="logo">üáØüáµ AutoJP</div>
        <nav>
            <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
            <a href="abs.html">–û–±—ä—è–≤–ª–µ–Ω–∏—è</a>
            <a href="add-ad.html">–ü–æ–¥–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</a>
        </nav>
    </header>

    <main class="profile-container">
        <div class="profile-card">
            <h2>üë§ –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h2>

            <div id="userInfo">
                <div class="avatar-section" style="text-align: center; margin-bottom: 1rem;">
                    <img id="userAvatar" src="" alt="–ê–≤–∞—Ç–∞—Ä"
                        style="display: none; width: 120px; height: 120px; border-radius: 50%; object-fit: cover; margin: 0 auto;">
                    <input type="file" id="avatarInput" accept="image/*" style="display: none;">
                    <button id="uploadAvatarBtn">üì∑ –ó–∞–≥—Ä—É–∑–∏—Ç—å –∞–≤–∞—Ç–∞—Ä</button>
                </div>
                <p><strong>–ò–º—è:</strong> <span id="username"></span></p>
                <p><strong>Email:</strong> <span id="email"></span></p>
                <p><strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> <span id="phone"></span></p>
                <p><strong>–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</strong> <span id="createdAt"></span></p>
            </div>

            <div class="profile-actions">
                <button id="editBtn">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</button>
                <button id="changePasswordBtn">üîí –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</button>
                <button id="logoutBtn">üö™ –í—ã–π—Ç–∏</button>
            </div>

            <div class="theme-switcher">
                <button id="cyberpunkToggleBtn" class="theme-toggle-btn">üïπÔ∏è –ö–∏–±–µ—Ä–ø–∞–Ω–∫</button>
                <button id="nightTokyoToggleBtn" class="theme-toggle-btn">üåÉ –ù–æ—á–Ω–æ–π –¢–æ–∫–∏–æ</button>
            </div>

            <form id="editForm" class="edit-form" style="display: none;">
                <h3>‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</h3>
                <div class="input-group">
                    <label for="editUsername">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                    <input type="text" id="editUsername" required>
                </div>
                <div class="input-group">
                    <label for="editPhone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                    <input type="tel" id="editPhone">
                </div>
                <div class="form-actions">
                    <button type="submit" class="save-btn">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <button type="button" id="cancelBtn" class="cancel-btn">‚ùå –û—Ç–º–µ–Ω–∞</button>
                </div>
            </form>

            <form id="passwordForm" class="password-form" style="display: none;">
                <h3>üîí –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</h3>
                <div class="input-group">
                    <label for="currentPassword">–¢–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å</label>
                    <input type="password" id="currentPassword" required>
                </div>
                <div class="input-group">
                    <label for="newPassword">–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</label>
                    <input type="password" id="newPassword" required>
                </div>
                <div class="input-group">
                    <label for="confirmPassword">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–∞—Ä–æ–ª—è</label>
                    <input type="password" id="confirmPassword" required>
                </div>
                <div class="form-actions">
                    <button type="submit" class="save-btn">üîí –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</button>
                    <button type="button" id="cancelPasswordBtn" class="cancel-btn">‚ùå –û—Ç–º–µ–Ω–∞</button>
                </div>
            </form>

            <h3>üìã –ú–æ–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è</h3>
            <div id="userAds">
                <!-- –û–±—ä—è–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
            </div>
        </div>
    </main>

    <footer class="footer">
        <p>¬© üáØüáµ AutoJP ‚Äî –í–∞—à–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤–∞–∂–Ω–∞ –¥–ª—è –Ω–∞—Å</p>
    </footer>

    <script src="firebase.js"></script>
    <script src="profile/profile.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const cyberpunkBtn = document.getElementById('cyberpunkToggleBtn');
            const nightTokyoBtn = document.getElementById('nightTokyoToggleBtn');
            const body = document.body;

            function updateButtonStates(activeTheme) {
                if (activeTheme === 'cyberpunk') {
                    cyberpunkBtn.textContent = '–û—Ç–∫–ª—é—á–∏—Ç—å';
                    nightTokyoBtn.textContent = '–ù–æ—á–Ω–æ–π –¢–æ–∫–∏–æ';
                } else if (activeTheme === 'night-tokyo') {
                    cyberpunkBtn.textContent = '–ö–∏–±–µ—Ä–ø–∞–Ω–∫';
                    nightTokyoBtn.textContent = '–û—Ç–∫–ª—é—á–∏—Ç—å';
                } else {
                    cyberpunkBtn.textContent = '–ö–∏–±–µ—Ä–ø–∞–Ω–∫';
                    nightTokyoBtn.textContent = '–ù–æ—á–Ω–æ–π –¢–æ–∫–∏–æ';
                }
            }

            const savedTheme = localStorage.getItem('theme');

            if (savedTheme === 'cyberpunk') {
                body.classList.add('cyberpunk');
                updateButtonStates('cyberpunk');
            } else if (savedTheme === 'night-tokyo') {
                body.classList.add('night-tokyo');
                updateButtonStates('night-tokyo');
            } else {
                updateButtonStates('normal');
            }

            cyberpunkBtn.addEventListener('click', function () {
                body.classList.remove('night-tokyo');
                body.classList.toggle('cyberpunk');
                const isActive = body.classList.contains('cyberpunk');
                localStorage.setItem('theme', isActive ? 'cyberpunk' : 'normal');
                updateButtonStates(isActive ? 'cyberpunk' : 'normal');
            });

            nightTokyoBtn.addEventListener('click', function () {
                body.classList.remove('cyberpunk');
                body.classList.toggle('night-tokyo');
                const isActive = body.classList.contains('night-tokyo');
                localStorage.setItem('theme', isActive ? 'night-tokyo' : 'normal');
                updateButtonStates(isActive ? 'night-tokyo' : 'normal');
            });
        });
    </script>
</body>

</html>